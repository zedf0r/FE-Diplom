import{Q as T,q as m,T as g,Z as C,j as a,f as I,B as P,aB as V,U as S}from"./index-vY-BIxkI.js";import{I as o}from"./Input-BfAPyICZ.js";const E="_payment_1ue7r_1",R="_payment__data_1ue7r_7",W="_title_1ue7r_14",w="_data__personal__info_1ue7r_36",z="_personal__info__name_1ue7r_44",A="_data__payment_type_1ue7r_60",B="_payment_type__list_1ue7r_79",F="_payment__button_1ue7r_91",k="_data__payment_type_last_1ue7r_95",L="_label_1ue7r_99",O="_input_1ue7r_121",n={payment:E,payment__data:R,title:W,data__personal__info:w,personal__info__name:z,data__payment_type:A,payment_type__list:B,payment__button:F,data__payment_type_last:k,label:L,input:O},Q=()=>{const{payment:s}=T(e=>e.payments),[r,u]=m.useState(!1),y=g(),d=C(),x=[{labelText:"Фамилия",inputName:"lastName",value:s.lastName,type:"text"},{labelText:"Имя",inputName:"firstName",value:s.firstName,type:"text"},{labelText:"Отчество",inputName:"patronomic",value:s.patronomic,type:"text"}],h=[{labelText:"Контактный телефон",inputName:"contactTelephone",value:s.contactTelephone,placeholder:"+7 ___ ___ __ __",type:"tel"},{labelText:"E-mail",inputName:"email",value:s.email,placeholder:"inbox@gmail.ru",type:"email"}],N=e=>{const t=/^[А-Яа-я]+/,l=/^[+][7][0-9]{10}/,_=/^[A-Za-z1-9.\-_]+[@][a-z]+[\\.][a-z]+/;return{lastName:t.test(e.lastName),firstName:t.test(e.firstName),patronomic:t.test(e.patronomic),contactTelephone:l.test(e.contactTelephone),email:_.test(e.email),payment:!0}},p=e=>{const{name:t,value:l}=e.target;let _=l;(t==="lastName"||t==="firstName"||t==="patronymic")&&(_=l.replace(/[^А-Яа-я]/g,"")),t==="contactTelephone"&&(_=l.replace(/[^+0-9]/g,"").slice(0,12)),t==="email"&&(_=l.replace(/[А-Яа-я/'"#$%^&*()]/g,""));const i={...s,[t]:_},v=N(i),f=Object.values(v).every(j=>j===!0);u(f),y(V({k:t,value:_}))},b=r?"button__fill_white":"button__nonactive";return a.jsxs("div",{className:n.payment,children:[a.jsxs("div",{className:n.payment__data,children:[a.jsx(c,{title:"Персональные данные"}),a.jsxs("div",{className:n.data__personal__info,children:[a.jsx("div",{className:n.personal__info__name,children:x.map((e,t)=>a.jsx(o,{maxWidth:"280px",labelText:e.labelText,inputName:e.inputName,value:e.value,type:e.type,onChange:l=>p(l),classNameLabel:"payment__label"},t))}),h.map((e,t)=>a.jsx(o,{maxWidth:"360px",labelText:e.labelText,inputName:e.inputName,value:e.value,type:e.type,onChange:l=>p(l),placeholder:e.placeholder,classNameLabel:"payment__label"},t))]}),a.jsx(c,{title:"Способ оплаты"}),a.jsxs("div",{className:n.data__payment_type,children:[a.jsxs("div",{className:n.input__radio,children:[a.jsx("input",{type:"radio",name:"paymentType",id:"online",value:"Онлайн",onChange:e=>p(e),className:n.input}),a.jsx("label",{htmlFor:"online",className:n.label,children:"Онлайн"})]}),a.jsxs("div",{className:n.payment_type__list,children:[a.jsx("p",{children:"Банковской картой"}),a.jsx("p",{children:"PayPal"}),a.jsx("p",{children:"Visa QIWI Wallet"})]})]}),a.jsxs("div",{className:I(n.data__payment_type,n.data__payment_type_last),children:[a.jsx("input",{type:"radio",name:"paymentType",id:"cash",value:"Наличными",onChange:e=>p(e),className:n.input}),a.jsx("label",{htmlFor:"cash",className:n.label,children:"Наличными"})]})]}),a.jsx("div",{className:n.payment__button,children:a.jsx(P,{onClick:()=>d("order"),type:"button",className:b,children:"Купить билеты"})})]})},c=({title:s})=>a.jsx("div",{className:n.title,children:a.jsx("h3",{children:s})}),D=()=>{const{handleSetValue:s}=S();return m.useEffect(()=>{s(3)},[]),a.jsx(Q,{})};export{D as default};
